<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.6//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_6.dtd'>
<nta>
	<declaration>// Place global declarations here.

broadcast chan a,b,c,start;

const int TAU = 50;
	</declaration>
	<template>
		<name>Receiver</name>
		<location id="id0" x="0" y="0">
		</location>
		<location id="id1" x="0" y="85">
			<committed/>
		</location>
		<init ref="id1"/>
		<transition id="id2">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="0" y="-76">c?</label>
			<nail x="42" y="-59"/>
			<nail x="-25" y="-59"/>
		</transition>
		<transition id="id3">
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="8" y="42">start?</label>
			<nail x="0" y="25"/>
		</transition>
		<transition id="id4">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-68" y="-8">b?</label>
			<nail x="-42" y="34"/>
			<nail x="-42" y="-34"/>
		</transition>
		<transition id="id5">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="59" y="-8">a?</label>
			<nail x="51" y="34"/>
			<nail x="51" y="-34"/>
		</transition>
	</template>
	<template>
		<name x="5" y="5">Sender</name>
		<declaration>// Place local declarations here.

int loc = 0;
double slope;

clock x;

void reset() {
    x = 0;
}</declaration>
		<location id="id6" x="-306" y="-68">
			<name x="-323" y="-51">Loc1</name>
			<label kind="exponentialrate" x="-316" y="-34">1</label>
		</location>
		<location id="id7" x="-110" y="-17">
			<name x="-127" y="-1">Loc3</name>
			<label kind="exponentialrate" x="-120" y="17">1</label>
		</location>
		<location id="id8" x="85" y="-68">
			<name x="68" y="-51">Loc4</name>
			<label kind="exponentialrate" x="75" y="-34">1</label>
		</location>
		<location id="id9" x="-476" y="-68">
			<name x="-502" y="-51">Initial</name>
			<committed/>
		</location>
		<location id="id10" x="314" y="-17">
			<name x="297" y="0">Loc5</name>
			<label kind="exponentialrate" x="304" y="17">1</label>
		</location>
		<location id="id11" x="-110" y="-272">
			<name x="-120" y="-306">Loc6</name>
			<label kind="exponentialrate" x="-110" y="-323">1</label>
		</location>
		<location id="id12" x="68" y="-272">
			<name x="58" y="-306">Loc7</name>
			<label kind="exponentialrate" x="68" y="-323">1</label>
		</location>
		<location id="id13" x="238" y="-246">
			<name x="228" y="-280">Loc2</name>
			<label kind="exponentialrate" x="238" y="-297">1</label>
		</location>
		<location id="id14" x="518" y="-255">
			<name x="508" y="-289">Loc8</name>
			<label kind="exponentialrate" x="518" y="-306">1</label>
		</location>
		<init ref="id9"/>
		<transition id="id15">
			<source ref="id14"/>
			<target ref="id13"/>
			<label kind="guard" x="331" y="-331">x &gt;= 1</label>
			<label kind="synchronisation" x="348" y="-314">a!</label>
			<label kind="assignment" x="323" y="-297">slope = 4.0,
loc = 2,
reset()</label>
			<nail x="365" y="-272"/>
		</transition>
		<transition id="id16">
			<source ref="id13"/>
			<target ref="id14"/>
			<label kind="guard" x="331" y="-238">x &gt;= 1</label>
			<label kind="synchronisation" x="340" y="-221">a!</label>
			<label kind="assignment" x="331" y="-204">slope = 16.0,
loc = 8,
reset()</label>
			<nail x="365" y="-221"/>
		</transition>
		<transition id="id17">
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="guard" x="110" y="-306">x &gt;= 1</label>
			<label kind="synchronisation" x="119" y="-289">b!</label>
			<label kind="assignment" x="93" y="-272">slope = 4.0,
loc = 2,
reset()</label>
		</transition>
		<transition id="id18">
			<source ref="id8"/>
			<target ref="id13"/>
			<label kind="guard" x="103" y="-191">x &gt;= 1</label>
			<label kind="synchronisation" x="103" y="-174">b!</label>
			<label kind="assignment" x="85" y="-161">slope = 4.0,
loc = 2,
reset()</label>
		</transition>
		<transition id="id19">
			<source ref="id11"/>
			<target ref="id12"/>
			<label kind="guard" x="-51" y="-306">x &gt;= 1</label>
			<label kind="synchronisation" x="-42" y="-289">a!</label>
			<label kind="assignment" x="-76" y="-272">slope = 14.0,
loc = 7,
reset()</label>
		</transition>
		<transition id="id20">
			<source ref="id6"/>
			<target ref="id11"/>
			<label kind="guard" x="-245" y="-276">x &gt;= 1</label>
			<label kind="synchronisation" x="-245" y="-259">c!</label>
			<label kind="assignment" x="-246" y="-238">slope = 6.0,
loc = 6,
reset()</label>
			<nail x="-263" y="-212"/>
		</transition>
		<transition id="id21">
			<source ref="id10"/>
			<target ref="id8"/>
			<label kind="guard" x="144" y="-68">x &gt;= 1</label>
			<label kind="synchronisation" x="161" y="-42">a!</label>
			<label kind="assignment" x="119" y="-25">slope = 6.0,
loc = 4,
reset()</label>
			<nail x="170" y="-42"/>
		</transition>
		<transition id="id22">
			<source ref="id8"/>
			<target ref="id10"/>
			<label kind="guard" x="212" y="-84">x &gt;= 1</label>
			<label kind="synchronisation" x="229" y="-161">a!</label>
			<label kind="assignment" x="195" y="-144">slope = 10.0,
loc = 5,
reset()</label>
			<nail x="238" y="-84"/>
		</transition>
		<transition id="id23">
			<source ref="id9"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="-425" y="-144">start!</label>
			<label kind="assignment" x="-442" y="-127">slope = 2.0,
loc = 1,
reset()</label>
		</transition>
		<transition id="id24">
			<source ref="id7"/>
			<target ref="id8"/>
			<label kind="guard" x="-68" y="-59">x &gt;= 1</label>
			<label kind="synchronisation" x="-34" y="-34">a!</label>
			<label kind="assignment" x="-68" y="-17">slope = 6.0,
loc = 4,
reset()</label>
		</transition>
		<transition id="id25">
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="guard" x="-255" y="-85">x &gt;= 1</label>
			<label kind="synchronisation" x="-255" y="-68">b!</label>
			<label kind="assignment" x="-255" y="-51">slope = 6.0,
loc = 3,
reset()</label>
		</transition>
	</template>
	<system>// Place template instantiations here.
s = Sender();
r = Receiver();
// List one or more processes to be composed into a system.
system s,r;
</system>
	<queries>
		<query>
			<formula>simulate[&lt;=TAU] {s.loc, s.slope, s.x}</formula>
			<comment/>
			<result outcome="success" type="quality" timestamp="2025-11-11 14:16:34 +0100">
				<plot title="Simulations (1)" xaxis="time" yaxis="value">
					<series title="s.loc" type="l" color="0xff0000" encoding="csv">0.0,0.0
0.0,1.0
1.1114969136280677,1.0
1.1114969136280677,6.0
3.346711298117505,6.0
3.346711298117505,7.0
4.474866763136966,7.0
4.474866763136966,2.0
5.954810850959117,2.0
5.954810850959117,8.0
9.048452202497153,8.0
9.048452202497153,7.0
10.452931962546732,7.0
10.452931962546732,8.0
12.310348658673112,8.0
12.310348658673112,7.0
15.354606410362905,7.0
15.354606410362905,8.0
16.355256331945306,8.0
16.355256331945306,7.0
17.579160728105336,7.0
17.579160728105336,8.0
19.52625776430636,8.0
19.52625776430636,7.0
23.417249197282032,7.0
23.417249197282032,8.0
25.08854100107095,8.0
25.08854100107095,7.0
26.118053276216802,7.0
26.118053276216802,8.0
27.785409163272536,8.0
27.785409163272536,7.0
28.930621572908013,7.0
28.930621572908013,8.0
31.410576383866353,8.0
31.410576383866353,7.0
33.47087925589953,7.0
33.47087925589953,8.0
34.799020242172055,8.0
34.799020242172055,7.0
36.999259521343134,7.0
36.999259521343134,8.0
39.02565978917362,8.0
39.02565978917362,7.0
47.27141422481416,7.0
47.27141422481416,8.0
48.272980068522315,8.0
48.272980068522315,7.0
49.39479742233762,7.0
49.39479742233762,8.0
50.0,8.0
					</series>
					<series title="s.slope" type="l" color="0x00ff00" encoding="csv">0.0,0.0
0.0,2.0
1.1114969136280677,2.0
1.1114969136280677,6.0
3.346711298117505,6.0
3.346711298117505,14.0
4.474866763136966,14.0
4.474866763136966,4.0
5.954810850959117,4.0
5.954810850959117,16.0
9.048452202497153,16.0
9.048452202497153,4.0
10.452931962546732,4.0
10.452931962546732,16.0
12.310348658673112,16.0
12.310348658673112,4.0
15.354606410362905,4.0
15.354606410362905,16.0
16.355256331945306,16.0
16.355256331945306,4.0
17.579160728105336,4.0
17.579160728105336,16.0
19.52625776430636,16.0
19.52625776430636,4.0
23.417249197282032,4.0
23.417249197282032,16.0
25.08854100107095,16.0
25.08854100107095,4.0
26.118053276216802,4.0
26.118053276216802,16.0
27.785409163272536,16.0
27.785409163272536,4.0
28.930621572908013,4.0
28.930621572908013,16.0
31.410576383866353,16.0
31.410576383866353,4.0
33.47087925589953,4.0
33.47087925589953,16.0
34.799020242172055,16.0
34.799020242172055,4.0
36.999259521343134,4.0
36.999259521343134,16.0
39.02565978917362,16.0
39.02565978917362,4.0
47.27141422481416,4.0
47.27141422481416,16.0
48.272980068522315,16.0
48.272980068522315,4.0
49.39479742233762,4.0
49.39479742233762,16.0
50.0,16.0
					</series>
					<series title="s.x" type="l" color="0x0000ff" encoding="csv">0.0,0.0
1.1114969136280677,1.1114969136280677
1.1114969136280677,0.0
3.346711298117505,2.235214384489437
3.346711298117505,0.0
4.474866763136966,1.1281554650194605
4.474866763136966,0.0
5.954810850959117,1.4799440878221506
5.954810850959117,0.0
9.048452202497153,3.0936413515380368
9.048452202497153,0.0
10.452931962546732,1.4044797600495784
10.452931962546732,0.0
12.310348658673112,1.8574166961263803
12.310348658673112,0.0
15.354606410362905,3.044257751689794
15.354606410362905,0.0
16.355256331945306,1.0006499215824
16.355256331945306,0.0
17.579160728105336,1.2239043961600293
17.579160728105336,0.0
19.52625776430636,1.9470970362010254
19.52625776430636,0.0
23.417249197282032,3.8909914329756723
23.417249197282032,0.0
25.08854100107095,1.67129180378892
25.08854100107095,0.0
26.118053276216802,1.0295122751458503
26.118053276216802,0.0
27.785409163272536,1.6673558870557335
27.785409163272536,0.0
28.930621572908013,1.1452124096354779
28.930621572908013,0.0
31.410576383866353,2.4799548109583385
31.410576383866353,0.0
33.47087925589953,2.0603028720331777
33.47087925589953,0.0
34.799020242172055,1.328140986272525
34.799020242172055,0.0
36.999259521343134,2.2002392791710816
36.999259521343134,0.0
39.02565978917362,2.0264002678304887
39.02565978917362,0.0
47.27141422481416,8.245754435640535
47.27141422481416,0.0
48.272980068522315,1.0015658437081585
48.272980068522315,0.0
49.39479742233762,1.121817353815305
49.39479742233762,0.0
50.0,0.6052025776623822
					</series>
					<comment/>
				</plot>
			</result>
		</query>
	</queries>
</nta>
